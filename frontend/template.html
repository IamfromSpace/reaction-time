<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
</head>

<body>
<div id="elm-app"></div>
<script>
${APP CODE HERE}
</script>
<script>
var localStorageKey = 'refreshToken';
var refreshToken = localStorage.getItem(localStorageKey);
var app = Elm.Main.init({
  node: document.getElementById("elm-app"),
  flags: {
    rtEndpoint: "https://example.com",
    pomsEndpoint: "https://example.com",
    cognitoClientId: "XXX",
    cognitoRegion: "us-west-2",
    refreshToken: refreshToken
  }
});
app.ports.cacheRefreshToken.subscribe(function(token) {
  localStorage.setItem(localStorageKey, token);
})
</script>
</body>
</html>
